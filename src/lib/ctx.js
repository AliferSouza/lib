let context=[],ctxApp={pathname:location.pathname,pathCompleto:location.pathname.split("/"),href:location.href,document:document},Emitter={events:{},on(e,t){Emitter.events[e]=Emitter.events[e]||[],Emitter.events[e].push(t)},emit(e,...t){e in Emitter.events!=!1&&Emitter.events[e].forEach(e=>{e(...t)})}},useEffect=e=>{let t=()=>{context.push(t);try{e()}finally{context.pop()}};t()};function navigatorTo(e){history.pushState(null,null,e),roteamento()}let useMemo=e=>{let t;return effect(()=>{t?t.set(e()):t=state(e())}),t.get},useState=e=>({_subscribers:new Set,_value:e,get:function(){let e=context.at(-1);return e&&this._subscribers.add(e),this._value},set:function(e){this._value!==e&&(this._value=e,this._subscribers.forEach(e=>e()))}});function Alert(e){alert(e)}function addBanco(e,t){let a=JSON.parse(localStorage.getItem(e)||"[]");a.push(t),localStorage.setItem(e,JSON.stringify(a))}function dbGetItem(e){return JSON.parse(window.localStorage.getItem(e))}function dbSetItem(e,t){window.localStorage.setItem(e,JSON.stringify(t))}async function addComponet(e,t){document.querySelector(await e).innerHTML+=await t}async function atualizarComp(e,t){document.querySelector(await e).innerHTML=await t}async function Api(e){try{let t=await fetch(e),a=await t.json(),r=await a;return r}catch{return null}}function autoExecultar(e){Function("return "+e)()}function backup(e,t,a){let r=new Blob([`${e}`],{type:`${t}`}),n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=`${a||"export.txt"}`,n.click(),window.URL.revokeObjectURL(n.href)}function gerarId(){let e=Math.random().toString(32).substr(2,9);return e}function gerarQueryString(e){let t=JSON.stringify(e),a=`?data=${t}`;return a}function erroPage(e){let t="";return Object.keys(e).forEach(e=>{t+=`<a href="/${e}" class="nav__link" data-link>${e}</a>`}),`<div>${t}</div>`}function userTags(e){try{let t=document.querySelector("body").outerHTML.match(/<(comp-[a-z]+)/g);if(!t){console.log("Nenhuma tag comp- foi encontrada na p\xe1gina");return}t.forEach(async(t,a)=>{let r=t.match(/(comp-[a-z]+)/g)[0],n=document.querySelector(r);if(!n){console.log(`N\xe3o foi poss\xedvel encontrar a tag ${r}`);return}let o=Object.entries(n.dataset).reduce((e,[t,a])=>(e[t]=a,e),{}),i=document.createElement(`${r}-${a}`);n.parentNode.replaceChild(i,n),i.innerHTML=e[r](o)})}catch(a){console.error(a)}}function Router(e,t){async function a(){let a=location.pathname.split("/")[1],r,n;"/"===a||""===a?n=(r=Object.values(e)[0]).name:e[a]?n=(r=e[a]).name:(r=erroPage,n=erroPage.name),document.querySelector("title").innerText=await n||n,document.querySelector("#app").innerHTML=await r(e)||r(),userTags(t)}window.addEventListener("popstate",a),document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",e=>{if(e.target.matches("[data-href]")){e.preventDefault();let t=e.target.dataset.href;history.pushState(null,null,t),a()}})}),a()}export{Alert,autoExecultar,navigatorTo,dbSetItem,dbGetItem,atualizarComp,addComponet,Api,addBanco,gerarId,backup,erroPage,gerarQueryString,Router,userTags,useState,useEffect,useMemo,ctxApp,Emitter};